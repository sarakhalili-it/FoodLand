import { getMealBYId } from "../api/melas";
import { Link, useLoaderData } from "react-router-dom";
export async function loader({ params }) {
  const meal = await getMealBYId(params.id);
  return { meal };
}

export default function Meal() {
  const { meal } = useLoaderData();
  return (
    <section className="mt-11">
      <div>
        <div className="flex justify-between items-center mb-14">
          <div className="flex-grow">
            <h1 className="font-Inter text-5xl font-semibold mb-11">
              {meal.name}
            </h1>
            <ul className="flex items-center">
              <Link to={`/categories/${meal.category}`}>
                <li className="pr-7 flex items-center gap-2 cursor-pointer ">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.9989 7.47893C11.9985 7.46538 11.998 7.45183 11.9969 7.43819C11.9957 7.42451 11.994 7.41101 11.9922 7.39754C11.9912 7.39059 11.9909 7.38367 11.9898 7.37667L11.2398 2.87667C11.2237 2.77947 11.1885 2.6864 11.1364 2.60278C11.0843 2.51916 11.0162 2.44663 10.936 2.38934C10.8559 2.33205 10.7652 2.29111 10.6692 2.26887C10.5732 2.24663 10.4738 2.24352 10.3766 2.25972C10.2794 2.27592 10.1864 2.31112 10.1028 2.36329C10.0192 2.41547 9.9467 2.4836 9.88946 2.5638C9.83222 2.644 9.79134 2.73469 9.76916 2.8307C9.74699 2.9267 9.74394 3.02613 9.76021 3.12331L10.3646 6.74999H8.625V2.99999C8.625 2.80108 8.54598 2.61031 8.40533 2.46966C8.26468 2.32901 8.07391 2.24999 7.875 2.24999C7.67609 2.24999 7.48532 2.32901 7.34467 2.46966C7.20402 2.61031 7.125 2.80108 7.125 2.99999V6.74999H5.38536L5.98979 3.12331C6.00606 3.02613 6.00301 2.9267 5.98083 2.8307C5.95866 2.73469 5.91778 2.644 5.86053 2.5638C5.80329 2.4836 5.73081 2.41547 5.64722 2.36329C5.56364 2.31112 5.47059 2.27592 5.3734 2.25972C5.27621 2.24352 5.17678 2.24663 5.08079 2.26887C4.9848 2.29111 4.89413 2.33205 4.81397 2.38934C4.73381 2.44663 4.66572 2.51916 4.6136 2.60278C4.56148 2.6864 4.52635 2.77947 4.51021 2.87667L3.76021 7.37667C3.75906 7.38367 3.75879 7.39059 3.75778 7.39754C3.75595 7.411 3.75426 7.42451 3.75311 7.43819C3.75197 7.45183 3.75146 7.46538 3.75105 7.47893C3.75087 7.48598 3.75 7.4929 3.75 7.49999C3.75 7.50667 3.75046 7.51322 3.7505 7.51986C3.75064 7.52448 3.75064 7.52906 3.75087 7.53364C3.75993 8.4912 4.1014 9.41586 4.71687 10.1495C5.33235 10.8831 6.18359 11.3801 7.125 11.5554V21C7.125 21.1989 7.20402 21.3897 7.34467 21.5303C7.48532 21.671 7.67609 21.75 7.875 21.75C8.07391 21.75 8.26468 21.671 8.40533 21.5303C8.54598 21.3897 8.625 21.1989 8.625 21V11.5554C9.56641 11.3801 10.4177 10.8831 11.0331 10.1495C11.6486 9.41586 11.9901 8.49119 11.9991 7.53364C11.9994 7.52906 11.9994 7.52448 11.9995 7.51986C11.9995 7.51322 12 7.50667 12 7.49999C12 7.4929 11.9991 7.48598 11.9989 7.47893Z"
                      fill="black"
                    />
                    <path
                      d="M19.8743 2.98673C19.8741 2.97126 19.8732 2.95578 19.872 2.94026C19.8712 2.92973 19.8702 2.9193 19.8689 2.90891C19.8673 2.89595 19.8653 2.883 19.863 2.87004C19.8607 2.85699 19.8582 2.84409 19.8553 2.83131C19.8529 2.82115 19.8503 2.81104 19.8475 2.80092C19.8433 2.78586 19.8388 2.77103 19.8337 2.75638C19.8323 2.75217 19.8314 2.74791 19.8299 2.7437C19.8282 2.73917 19.826 2.73495 19.8243 2.73047C19.8186 2.71577 19.8125 2.70134 19.806 2.68716C19.8018 2.67791 19.7974 2.66879 19.7928 2.65979C19.7866 2.64771 19.7801 2.63582 19.7733 2.62413C19.7673 2.61365 19.7611 2.60335 19.7546 2.59323C19.7484 2.58371 19.742 2.57446 19.7354 2.56522C19.7274 2.55405 19.7194 2.54311 19.7109 2.53249C19.7046 2.52466 19.6981 2.51711 19.6916 2.50955C19.6823 2.49875 19.6727 2.48808 19.6628 2.47787C19.6558 2.47073 19.6486 2.46387 19.6414 2.457C19.6314 2.44748 19.6213 2.43814 19.6108 2.42921C19.6024 2.42203 19.5937 2.41525 19.5849 2.40843C19.5751 2.40083 19.5653 2.39328 19.5551 2.38614C19.5447 2.37886 19.534 2.37204 19.5233 2.36531C19.5142 2.35959 19.5051 2.35382 19.4957 2.34851C19.4835 2.34155 19.471 2.33514 19.4583 2.32887C19.4497 2.32457 19.4411 2.32027 19.4322 2.31628C19.419 2.31033 19.4055 2.30493 19.3918 2.29971C19.3827 2.29628 19.3737 2.29285 19.3644 2.28973C19.3513 2.28529 19.338 2.2814 19.3246 2.27769C19.3139 2.27472 19.3032 2.27193 19.2924 2.26941C19.2805 2.26671 19.2685 2.26437 19.2564 2.26222C19.2432 2.25984 19.2301 2.25783 19.2168 2.25618C19.2066 2.25494 19.1963 2.25394 19.186 2.25307C19.1706 2.25183 19.1552 2.25105 19.1397 2.25073C19.1347 2.25064 19.13 2.25 19.125 2.25C19.1205 2.25 19.1161 2.2506 19.1116 2.25069C19.0962 2.25096 19.0808 2.25179 19.0654 2.25302C19.0548 2.25385 19.0443 2.2548 19.0339 2.25609C19.0209 2.25769 19.008 2.2597 18.9951 2.26199C18.982 2.26428 18.9691 2.2668 18.9563 2.26978C18.9462 2.27211 18.9361 2.27476 18.9259 2.27756C18.9109 2.28168 18.8961 2.28621 18.8814 2.29129C18.8772 2.29271 18.8729 2.29362 18.8687 2.29513C18.8595 2.29852 18.8504 2.30255 18.8412 2.30598C18.8377 2.3074 18.8341 2.30864 18.8306 2.3101C16.8985 3.03625 15.3511 5.4066 14.2315 9.35806C13.7237 11.1814 13.3552 13.0408 13.1293 14.9201C13.1181 15.0247 13.1291 15.1305 13.1614 15.2306C13.1938 15.3308 13.2469 15.423 13.3172 15.5012C13.3875 15.5795 13.4735 15.6421 13.5696 15.685C13.6657 15.7278 13.7698 15.75 13.875 15.75H18.375V21C18.375 21.1989 18.454 21.3897 18.5947 21.5303C18.7353 21.671 18.9261 21.75 19.125 21.75C19.3239 21.75 19.5147 21.671 19.6554 21.5303C19.796 21.3897 19.875 21.1989 19.875 21V3C19.875 2.99551 19.8744 2.99121 19.8743 2.98673Z"
                      fill="black"
                    />
                  </svg>

                  <span
                    className="font-Inter text-base
                 font-medium text-black60  hover:text-secondery"
                  >
                    {meal.category}
                  </span>
                </li>
              </Link>
              <Link to={`/areas/${meal.area}`}>
                <li className="px-7 flex items-center gap-2 border-l border-r border-black10 cursor-pointer ">
                  <svg
                    className="w-6 h-6 text-gray-800 dark:text-white "
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      fillRule="evenodd"
                      d="M8.64 4.737A7.97 7.97 0 0 1 12 4a7.997 7.997 0 0 1 6.933 4.006h-.738c-.65 0-1.177.25-1.177.9 0 .33 0 2.04-2.026 2.008-1.972 0-1.972-1.732-1.972-2.008 0-1.429-.787-1.65-1.752-1.923-.374-.105-.774-.218-1.166-.411-1.004-.497-1.347-1.183-1.461-1.835ZM6 4a10.06 10.06 0 0 0-2.812 3.27A9.956 9.956 0 0 0 2 12c0 5.289 4.106 9.619 9.304 9.976l.054.004a10.12 10.12 0 0 0 1.155.007h.002a10.024 10.024 0 0 0 1.5-.19 9.925 9.925 0 0 0 2.259-.754 10.041 10.041 0 0 0 4.987-5.263A9.917 9.917 0 0 0 22 12a10.025 10.025 0 0 0-.315-2.5A10.001 10.001 0 0 0 12 2a9.964 9.964 0 0 0-6 2Zm13.372 11.113a2.575 2.575 0 0 0-.75-.112h-.217A3.405 3.405 0 0 0 15 18.405v1.014a8.027 8.027 0 0 0 4.372-4.307ZM12.114 20H12A8 8 0 0 1 5.1 7.95c.95.541 1.421 1.537 1.835 2.415.209.441.403.853.637 1.162.54.712 1.063 1.019 1.591 1.328.52.305 1.047.613 1.6 1.316 1.44 1.825 1.419 4.366 1.35 5.828Z"
                      clipRule="evenodd"
                    />
                  </svg>

                  <span
                    className="font-Inter text-base
                 font-medium text-black60  hover:text-secondery"
                  >
                    {meal.area}
                  </span>
                </li>
              </Link>
              {meal.tags &&
                meal.tags.map((tag) => (
                  <li
                    className="px-7 border-r border-black10 flex items-center gap-2 "
                    key={tag}
                  >
                    <svg
                      className="w-6 h-6 text-gray-800 dark:text-white"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      fill="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path d="M18.045 3.007 12.31 3a1.965 1.965 0 0 0-1.4.585l-7.33 7.394a2 2 0 0 0 0 2.805l6.573 6.631a1.957 1.957 0 0 0 1.4.585 1.965 1.965 0 0 0 1.4-.585l7.409-7.477A2 2 0 0 0 21 11.479v-5.5a2.972 2.972 0 0 0-2.955-2.972Zm-2.452 6.438a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z" />
                    </svg>
                    <span
                      className="font-Inter text-base
                 font-medium text-black60"
                    >
                      {tag}
                    </span>
                  </li>
                ))}
            </ul>
          </div>
          <div className="flex flex-col justify-center items-center gap-1">
            <a
              href={meal.youtube}
              className="w-14 h-14 rounded-full bg-primary inline-flex justify-center items-center hover:shadow  hover:bg-orange-300 hover:duration-300"
            >
              <svg
                className="w-6 h-6 text-gray-800  "
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  fillRule="evenodd"
                  d="M21.7 8.037a4.26 4.26 0 0 0-.789-1.964 2.84 2.84 0 0 0-1.984-.839c-2.767-.2-6.926-.2-6.926-.2s-4.157 0-6.928.2a2.836 2.836 0 0 0-1.983.839 4.225 4.225 0 0 0-.79 1.965 30.146 30.146 0 0 0-.2 3.206v1.5a30.12 30.12 0 0 0 .2 3.206c.094.712.364 1.39.784 1.972.604.536 1.38.837 2.187.848 1.583.151 6.731.2 6.731.2s4.161 0 6.928-.2a2.844 2.844 0 0 0 1.985-.84 4.27 4.27 0 0 0 .787-1.965 30.12 30.12 0 0 0 .2-3.206v-1.516a30.672 30.672 0 0 0-.202-3.206Zm-11.692 6.554v-5.62l5.4 2.819-5.4 2.801Z"
                  clipRule="evenodd"
                />
              </svg>
            </a>
            <span
              className="font-Inter text-xs
                 font-medium text-black60"
            >
              Watch
            </span>
          </div>
        </div>
        <div className="flex justify-between gap-7 items-start ">
          <div className="w-8/12 ">
            <div className="h-600 rounded-3xl">
              <img
                className="w-full h-full object-cover rounded-3xl"
                src={meal.thumb}
                alt={meal.name}
              />
            </div>
            <div className="mt-10">
              <h2 className="font-Inter font-semibold text-2xl mb-2">
                Instructions
              </h2>
              <p className="font-Inter text-base leading-7 mt-2 text-black60 text-justify">
                {meal.instructions}
              </p>
            </div>
          </div>
          <div className="bg-primary rounded-3xl w-4/12  p-8">
            <h2 className="font-Inter font-semibold text-2xl mb-2">
              Ingredients
            </h2>
            <ul>
              {meal.ingridents.map((ing) => (
                <li
                  key={ing}
                  className="py-4 flex justify-between border-b border-black10"
                >
                  <span className="font-Inter font-medium text-base text-black60">
                    {ing[0]}
                  </span>{" "}
                  <span className="font-Inter font-medium text-base">
                    {ing[1]}
                  </span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </section>
  );
}
